{"data":{"site":{"siteMetadata":{"title":"Lecstor's Blog","author":"Jason Galea"}},"markdownRemark":{"id":"f5c257a4-46ec-5954-ae81-822b495e956d","excerpt":"Margins  - don’t give components external margins, use layout components instead Unhandled Props  - pass unhandled props to the rendered…","html":"<ul>\n<li><a href=\"#margins\">Margins</a> - don’t give components external margins, use layout components instead</li>\n<li><a href=\"#unhandled-props\">Unhandled Props</a> - pass unhandled props to the rendered element</li>\n<li><a href=\"#component-composition\">Component Composition</a></li>\n<li><a href=\"#containers\">Containers</a></li>\n</ul>\n<h2 id=\"margins\"><a href=\"#margins\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Margins</h2>\n<p>Don’t give components external margins, use layout components instead.</p>\n<p>Setting external margins on your component forces the user of the component to\neither accept, work around, or override those margins, especially when there\nare conflicting margins on adjacent elements.</p>\n<p>Wrapping components in simple divs with padding or margins will keep your\ncomponents more easily reusable. (see <a href=\"#containers\">Containers</a>)</p>\n<h2 id=\"unhandled-props\"><a href=\"#unhandled-props\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Unhandled Props</h2>\n<p>Passing unhandled props to the rendered element will allow it to be styled via\n<code class=\"language-text\">style</code> and <code class=\"language-text\">className</code> and allow event handlers to be set so your component\ncan be used in ways you didn’t forsee.</p>\n<p>eg I needed to add a tooltip to one of my components and the tooltip component\nneeded to add <code class=\"language-text\">onMouseEnter</code> &#x26; <code class=\"language-text\">onMouseLeave</code> handlers to my button.</p>\n<p>This is simple to implement using the ES6 <code class=\"language-text\">rest</code> operator, eg</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const Button = ({ label, ...props }) = &lt;button {...props}&gt;{label}&lt;/button&gt;;</code></pre></div>\n<h3 id=\"typescript\"><a href=\"#typescript\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Typescript</h3>\n<p>If you are using Typescript you’ll need to type your component props\naccordingly to avoid TS errors when trying to apply unhandled props to the\ncomponent. Refer to the source of <code class=\"language-text\">@types/react/index.d.ts</code> that you are\nusing to see what’s available.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">export type ButtonProps = {\n  label: string;\n} &amp; React.HTMLAttributes&lt;HTMLButtonElement&gt;;</code></pre></div>\n<h2 id=\"component-composition\"><a href=\"#component-composition\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Component Composition</h2>\n<h3 id=\"elements-as-props\"><a href=\"#elements-as-props\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Elements as props</h3>\n<p>Use the <code class=\"language-text\">children</code> prop or other props that take elements to be rendered.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const Button1 = ({ ...props }) = &lt;button {...props} /&gt;;\nconst Button2 = ({ label, ...props }) = &lt;button {...props}&gt;{label}&lt;/button&gt;;</code></pre></div>\n<h3 id=\"specialization\"><a href=\"#specialization\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Specialization</h3>\n<p>Start with a component that implements the simplest functionality you will need\nwhile ensuring that it is as customisable as possible.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const ModeButton = ({ primary, danger, style, ...props }) = {\n  const backgroundColor = primary ? &quot;blue&quot; : danger ? &quot;red&quot; : &quot;white&quot;;\n  return (&lt;button {...props} style={{ backgroundColor, ...style }} /&gt;);\n}</code></pre></div>\n<p>You can then create other components that add more functionality..</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const SizedModeButton = ({ small, large, style, ...props }) = {\n  const padding = small ? &quot;0.5rem&quot; : large ? &quot;1rem&quot; : &quot;0.7rem&quot;;\n  return &lt;ModeButton primary {...props} style={{ ...style, padding }} /&gt;;\n}</code></pre></div>\n<p>..or configure those components for specific use cases.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const LargePrimaryButton = (props) = {\n  return &lt;SizedModeButton large primary {...props} /&gt;;\n}</code></pre></div>\n<h2 id=\"containers\"><a href=\"#containers\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Containers</h2>\n<p>Container components are great because they are very easy to make completely\ncustomisable, though naming is hard and and deciding when to customise and when\nto create a new container (and name it) wil be an ongoing dilemma.</p>\n<p>Using container components also helps you keep your other components more\nreusable by avoiding setting styles on them that will invariably need to be\ncustomised for different use-cases.</p>\n<p>By setting default styles on a container component, but also allowing\n<code class=\"language-text\">className</code> and <code class=\"language-text\">style</code> props to be specified, your container components will\nbe simple to use and tweak.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">\"styled-components\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Box <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token string\">`\n  padding: 5px;\n  width: 100%;\n\n  @media (min-width: 700px) {\n    padding: 20px;\n    width: 50%;\n  }\n`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">InputContainer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children<span class=\"token punctuation\">,</span> className<span class=\"token punctuation\">,</span> style <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">&lt;</span>Box className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>className<span class=\"token punctuation\">}</span> style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>style<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Box<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> InputContainer<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"render-props-and-higher-order-components\"><a href=\"#render-props-and-higher-order-components\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Render-props and Higher-order Components</h2>\n<p>Component logic can be shared by many components by encapsulating it in it’s\nown component. These components can be built as\n<a href=\"https://reactjs.org/docs/higher-order-components.html\">Higher-order Components</a>\nor utilise <a href=\"https://reactjs.org/docs/render-props.html\">render props</a>.</p>\n<p>Higher-order components are functions that take a component and return a new\ncomponent with enhanced capabilities and are applied to a single, complete\ncomponents.</p>\n<p>The render props pattern allows a component to accept one or more components as\nprops to be rendered with customised props provided by the parent component.</p>\n<p>For ultimate flexibility, depending on the use-case, a render-props component\ncan be wrapped in a HOC allowing the provided functionality to be used in either\nway.</p>","frontmatter":{"title":"Reusable React Components [WIP]","date":"December 09, 2018"}}},"pageContext":{"slug":"/reusable-react-components/","previous":{"fields":{"slug":"/building-a-pdf-writer/"},"frontmatter":{"title":"Building a PDF writer"}},"next":{"fields":{"slug":"/react-disabled-button-onmouseleave/"},"frontmatter":{"title":"React does not fire onMouseLeave events on a disabled button"}}}}