{"data":{"site":{"siteMetadata":{"title":"Lecstor's Blog","author":"Jason Galea"}},"markdownRemark":{"id":"e2131e23-a837-5c29-ab63-7342cf29784c","excerpt":"Posting as this was decently difficult to diagnose while researching and testing 3rd party popover/tooltip components. The button component…","html":"<p>Posting as this was decently difficult to diagnose while researching and testing 3rd party popover/tooltip components.</p>\n<p>The button component I needed an <code class=\"language-text\">onHover</code> tooltip for is responsive via either <code class=\"language-text\">react-responsive</code> or plain old media queries.</p>\n<p>The responsive options were wrapped in a <code class=\"language-text\">React.Fragment</code> so there were also issues with the tooltip components augmenting the first option even when the second was displayed (unconfirmed if this was only with plain media queries).</p>\n<p>Swapping <code class=\"language-text\">React.Fragment</code> for a plain <code class=\"language-text\">div</code> changed the results, but did not solve the problem, making the issue more difficult to debug.</p>\n<p>In the end I think the best solution will be to simply fake the disabled state of the button instead of actually disabling the html element.</p>\n<p><a href=\"https://codesandbox.io/s/8xlw160jl9\">Demo on CodeSandbox</a></p>\n<p><strong>References:</strong></p>\n<ul>\n<li><a href=\"https://codesandbox.io/s/yqnx763509\">Native button mouse eneter/leave</a></li>\n<li><a href=\"https://github.com/facebook/react/issues/10396\">onMouseLeave strange behaver when has disabled child element</a></li>\n<li><a href=\"https://github.com/facebook/react/issues/6807\">onMouseLeave doesn’t work if the node gets detached</a></li>\n<li><a href=\"https://github.com/facebook/react/issues/11972\">Consider removing mouseenter/mouseleave polyfill</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import React from &quot;react&quot;;\nimport ReactDOM from &quot;react-dom&quot;;\n\nfunction log(who) {\n  return () =&gt; console.log(who);\n}\n\nfunction App() {\n  return (\n    &lt;div className=&quot;App&quot;&gt;\n      &lt;h1&gt;Hello Button&lt;/h1&gt;\n      &lt;p&gt;\n        React will not fire onMouseLeave events for a disabled button (although\n        it does fire onMouseEnter)\n      &lt;/p&gt;\n      &lt;p&gt;Open the CodeSandbox console to see logging&lt;/p&gt;\n      &lt;div style={{ margin: &quot;3rem&quot; }}&gt;\n        Works as intended{&quot; &quot;}\n        &lt;button onMouseEnter={log(&quot;enter&quot;)} onMouseLeave={log(&quot;leave&quot;)}&gt;\n          Button\n        &lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div style={{ margin: &quot;3rem&quot; }}&gt;\n        No onMouseLeave{&quot; &quot;}\n        &lt;button\n          disabled\n          onMouseEnter={log(&quot;disabled enter&quot;)}\n          onMouseLeave={log(&quot;disabled leave&quot;)}\n        &gt;\n          Disabled Button\n        &lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div style={{ margin: &quot;3rem&quot; }}&gt;\n        Events on parent div, works sometimes\n        &lt;div\n          style={{ border: &quot;1px solid blue&quot; }}\n          onMouseEnter={log(&quot;div enter&quot;)}\n          onMouseLeave={log(&quot;div leave&quot;)}\n        &gt;\n          &lt;button disabled&gt;Div&#39;d Disabled Button&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div style={{ margin: &quot;3rem&quot; }}&gt;\n        Events on parent div with padding, works more often (dependant on mouse\n        move speed)\n        &lt;div\n          style={{ padding: &quot;1px&quot;, border: &quot;1px solid blue&quot; }}\n          onMouseEnter={log(&quot;div 2 enter&quot;)}\n          onMouseLeave={log(&quot;div 2 leave&quot;)}\n        &gt;\n          &lt;button disabled&gt;Div&#39;d Disabled Button 2&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n\nconst rootElement = document.getElementById(&quot;root&quot;);\nReactDOM.render(&lt;App /&gt;, rootElement);</code></pre></div>","frontmatter":{"title":"React does not fire onMouseLeave events on a disabled button","date":"December 22, 2018"}}},"pageContext":{"slug":"/react-disabled-button-onmouseleave/","previous":{"fields":{"slug":"/reusable-react-components/"},"frontmatter":{"title":"Reusable React Components [WIP]"}},"next":{"fields":{"slug":"/go-clear-cache/"},"frontmatter":{"title":"Go - clear cache"}}}}