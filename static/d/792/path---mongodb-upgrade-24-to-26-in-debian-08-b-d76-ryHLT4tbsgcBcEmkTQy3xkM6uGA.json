{"data":{"site":{"siteMetadata":{"title":"For next time","author":"Jason Galea"}},"markdownRemark":{"id":"af1ef6a0-db4f-5ab8-8eda-326c319dcf41","excerpt":"When upgrading to the latest and greatest MongoDB (2.6) the first thing you have to do is run a check on your databases. Specifically the…","html":"<p>When upgrading to the latest and greatest MongoDB (2.6) the first thing you have to do is run a check on your databases. Specifically the <a href=\"http://docs.mongodb.org/manual/release-notes/2.6-upgrade/\">upgrade docs</a> say:</p>\n<blockquote>\n<p>To begin the upgrade procedure, connect a 2.6 mongo shell to your MongoDB 2.4 mongos or mongod and run the db.upgradeCheckAllDBs() to check your data set for compatibility.</p>\n</blockquote>\n<p>Tightly constrained by the box, I wondered how I could install a 2.6 mongo shell on my Debian system without upgrading the whole shebang.. turns out there’s no need.. just download the tar version of MongoDB and run the shell straight from there..</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ curl -O http://downloads.mongodb.org/linux/mongodb-linux-x86_64-2.6.1.tgz\n$ tar -zxvf mongodb-linux-x86_64-2.6.1.tgz\n$ ./mongodb-linux-x86_64-2.6.1/bin/mongo</code></pre></div>\n<p>to run the check, you also need to be using the admin database, so..</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&gt; use admin\nswitched to db admin\n&gt; db.upgradeCheckAllDBs()\n\nChecking database mydb1\n\nChecking collection mydb1.coll1\n\nChecking collection mydb1.coll2\n\nChecking database mydb2\n\nChecking collection mydb2.coll1\n\nChecking collection mydb2.coll2\n\nEverything is ready for the upgrade!\ntrue\n&gt;</code></pre></div>","frontmatter":{"title":"MongoDB Upgrade 2.4 to 2.6 in Debian","date":"May 13, 2014"}}},"pageContext":{"slug":"/mongodb-upgrade-24-to-26-in-debian/","previous":{"fields":{"slug":"/how-to-create-pdf-documents/"},"frontmatter":{"title":"How to create PDF documents"}},"next":{"fields":{"slug":"/hello-world/"},"frontmatter":{"title":"Hello World"}}}}